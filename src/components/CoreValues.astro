---
import CoreV from "@data/coreValues.json";
import arrowRight from "@icons/arrow--right.svg?url";

/* 1) Map all SVGs in src/icons to URLs */
const icons = import.meta.glob("../icons/*.svg", {
  eager: true,
  as: "url",
});

/* 2) Attach resolved iconUrl to each value item */
const values = (CoreV.values ?? []).map((f) => ({
  ...f,
  // f.icon should be the filename WITHOUT .svg, e.g. "growth"
  iconUrl: icons[`../icons/${f.icon}.svg`] || "",
}));
  
---

<section class="corevalues">
    <div class="core_inner">
        <p class="eyebrow">Growing with our Clients</p>
        <h1>{CoreV.title}</h1>
        <div class="flex-box">
        <p class="sub">{CoreV.subtitle}</p>
        <button><a href="#">{CoreV.button.text}</a></button>
        </div>
        <ul class="values-list">
            {values.map((v) => (
                <li class="value">
                    {v.iconUrl && <img class="icon" src={v.iconUrl} alt="" aria-hidden="true" /> }
                    <h2>{v.title}</h2>
                    <p>{v.description}</p>
                    <a href="#">{v.link.text} <img src={arrowRight} alt="" /></a>
                </li>
            ))}
        </ul>
    </div>

</section>

<style>
   


.corevalues { 
    background: var(--color-primary-03); 
    color: var(--color-secondary-01); 
    padding: 4rem 0; 
}
.corevalues .core_inner { 
    max-width: 1000px; 
    margin: 0 auto; 
    padding: 0 1rem; }


.corevalues ul { 
    list-style: none; 
    padding: 0; 
}

.eyebrow{
  text-transform: uppercase;
  letter-spacing: .15em;
  font-size: .75rem;
  opacity: .8;
  margin: 0 0 .5rem;
}
.corevalues h1 { 
    font-weight: 500;
    margin: 0 0 .75rem; 
    font-size: clamp(1.8rem, 4vw, 2.8rem); 
}
.corevalues .sub { 
    font-size: 16px;
    margin: 0; 
    opacity: .85; 
    text-wrap:wrap;
    max-width: 700px;
}

.corevalues .flex-box { 
    display: flex; 
    align-items: center; 
    justify-content: space-between;
    gap: 6rem; 
    flex-wrap: wrap; 
    margin: 1rem 0 1.5rem; 
}
.corevalues .flex-box button { 
    border: 0; 
    background: var(--color-secondary-01); 
    color: var(--color-secondary-03);
    padding: .6rem .9rem; 
    border-radius: 50rem; 
    cursor: pointer; 
}
.corevalues .flex-box button a { 
    color: inherit; 
    text-decoration: none;
    font-weight: 600; 
}


.corevalues .values-list { 
    display: grid; 
    grid-template-columns: repeat(auto-fit, minmax(10rem, 1fr)); 
    gap: 1rem; 
}


.corevalues .value { 
    background: var( --color-secondary-01); 
    color: var( --color-primary-03);
    border-radius: .75rem; 
    padding: 2rem; 
    display: grid; 
    gap: .5rem; 

}
.corevalues .icon { 
    width: 28px; 
    height: 28px; 
    display: block; 
    background-color: black;
    border-radius: 99px;
    border: 5px solid black;

}

.corevalues .value h2 { 
    font-size:1.3rem;
    font-weight: 500;
}
.corevalues .value p { 
    color: var(--color-secondary-03); 
    font-size: .95rem; 
}

.corevalues .value a { 
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: var(--accent); 
    text-decoration: none; 
    font-weight: 600; 
}

.value a > img{
    width: 9%;
}





</style>